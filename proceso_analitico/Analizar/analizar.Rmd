---
title: 'Analisís: Conjunto de datos de Cyclistic'
author: 
  - "Alfredo Aburto Alcudia"
  - "https://github.com/alabacw74/analisis-datos-bicicletas-compartidas"
date: "`r Sys.Date()`"
output:
   html_document:
    toc: true # Mostrar tabla de contenido en documento R markdown
    toc_depth: 5 # Niveles de la tabla de contenidoo
    toc_float: true # Mostrar la tabla de contenido en todo el documento
    collapsed: true # Si solo queremos que muestre el nivel principal
    smooth_scroll: true # Reflejar nuestra ubicación en barra de contenido
    theme: journal # Estilo del documento
    highlight: kate # Estilo del codigo
    df_print: paged # Estilo para mostrar los datos
    code_folding: show # Mostrar o no el código del documento
---

<div style="text-align: justify;">

## Objetivo

En esta fase del analisís de datos se busca obtener la información valiosa que
nuestro conjunto de datos pueda ofrecer. En este punto contamos con datos
preparados y procesados, listos para ser analizados. Es por ello que en esta
sección utilizaremos herramientas estadísticas que nos permitan conocer el 
comportamiento diferenciado entre los miembros casuales y suscriptores anuales
del sistema de prestamo de bicicletas.

En esta fase no presentaremos una discusión sobre los resultados obtenidos, 
solo se mencionarán algunas premisas y se presentaran los resultados. En
la siguiente fase se realizara una discusión y exposición de lo encontrado.

## Cargar entorno de trabajo

```{r}
library(tidyverse)
```

## Importar nuestro conjunto de datos

```{r}
cyclistic_data <- readRDS("~/Desktop/Analisis_de_datos/Cyclistic_Datasets/cyclistic_data.rds")
```

## Conteo de cada tipo de usuario

```{r}
conteo_tipo_usuario <- cyclistic_data %>%
  filter(!is.na(member_casual)) %>%
  group_by(member_casual) %>%
  summarise(count = n())
```


## Duración de viaje

Una de las premisas que se tienen sobre las diferencias entre los tipos de
usuarios es que se caracterizan por tener tiempos de viaje diferentes. Se
esperaría que los suscriptores anuales tengan un tiempo promedio de viaje
mayor al de los miembros casuales. Vamos a verificarlo:

```{r}
duracion_viaje_por_tipo <- cyclistic_data %>% 
  select(member_casual, duracion_viaje) %>% 
  group_by(member_casual) %>% 
  drop_na() %>% 
  summarise(tiempo_promedio_viaje = mean(duracion_viaje))
```

## Distancia de viaje

Veamos la relación que hay entre la distancia que se recorre y el tipo de
miembro

```{r warning=FALSE, message=FALSE}
distancia_viaje_por_tipo <- cyclistic_data %>% 
  select(member_casual, distancia_viaje) %>% 
  group_by(member_casual) %>% 
  summarise(promedio_distancia = mean(distancia_viaje))
```

## Número de pasajeros por día de la semana

```{r warning=FALSE, message=FALSE}
num_viaje_por_dia_tipo <- cyclistic_data %>%
  group_by(member_casual, viajes_dia_semana = weekdays(fecha_inicio)) %>%
  summarise(count = n())

```

## Tiempo de viaje por tipo de usuario cada día de la semana

```{r warning=FALSE, message=FALSE}
tiempo_viaje_por_dia_tipo <- cyclistic_data %>% 
  group_by(member_casual, viajes_dia_semana = weekdays(fecha_inicio)) %>% 
  summarise(duracion_promedio = mean(duracion_viaje))
```

## Conteo de viajes por tipo de usuario agrupados por mes

```{r warning=FALSE, message=FALSE}
num_viaje_por_mes_tipo <- cyclistic_data %>% 
  group_by(member_casual, viajes_mes = month(fecha_inicio)) %>% 
  summarise(count = n())
```


## Distancia de viaje por tipo de usuario cada día de la semana

```{r warning=FALSE, message=FALSE}
ditancia_viaje_por_dia_tipo <- cyclistic_data %>% 
  group_by(member_casual, viajes_dia_semana = weekdays(fecha_inicio)) %>% 
  summarise(distancia_promedio = mean(distancia_viaje))
```

## Tipos de bicicletas

```{r warning=FALSE, message=FALSE}
cyclistic_data %>% 
  distinct(rideable_type)
```
### Conteo de tipo de bicicleta

```{r warning=FALSE, message=FALSE}
conteo_tipo_bicicleta <- cyclistic_data %>%
  filter(!is.na(rideable_type)) %>%
  group_by(rideable_type) %>%
  summarise(count = n())
```
### Tipo de bicicleta y tipo de usuario

```{r warning=FALSE, message=FALSE}
tipo_bicicleta_por_tipo_usuario <- cyclistic_data %>% 
  select(member_casual, rideable_type) %>% 
  group_by(member_casual, rideable_type) %>% 
  summarise(count = n())
```

</div>